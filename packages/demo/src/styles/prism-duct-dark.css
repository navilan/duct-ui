/**
 * Duct dark theme for Prism.js
 * 
 * Based on the duct-dark theme color palette defined in main.css
 * Optimized for readability and consistency with the Duct UI design system
 * 
 * @author Duct UI Team
 * @version 1.0
 */

[data-theme="duct-dark"] code[class*="language-"],
[data-theme="duct-dark"] pre[class*="language-"] {
	color: oklch(85% 0.02 260); /* base-content */
	font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, 'Courier New', monospace;
	direction: ltr;
	text-align: left;
	white-space: pre;
	word-spacing: normal;
	word-break: normal;
	line-height: 1.6;
	font-size: 0.9em;

	-moz-tab-size: 2;
	-o-tab-size: 2;
	tab-size: 2;

	-webkit-hyphens: none;
	-moz-hyphens: none;
	-ms-hyphens: none;
	hyphens: none;
}

[data-theme="duct-dark"] pre[class*="language-"]::-moz-selection,
[data-theme="duct-dark"] pre[class*="language-"] ::-moz-selection,
[data-theme="duct-dark"] code[class*="language-"]::-moz-selection,
[data-theme="duct-dark"] code[class*="language-"] ::-moz-selection {
	background: oklch(55% 0.18 260 / 0.3); /* primary with opacity */
	color: oklch(85% 0.02 260); /* base-content */
}

[data-theme="duct-dark"] pre[class*="language-"]::selection,
[data-theme="duct-dark"] pre[class*="language-"] ::selection,
[data-theme="duct-dark"] code[class*="language-"]::selection,
[data-theme="duct-dark"] code[class*="language-"] ::selection {
	background: oklch(55% 0.18 260 / 0.3); /* primary with opacity */
	color: oklch(85% 0.02 260); /* base-content */
}

/* Code blocks */
[data-theme="duct-dark"] pre[class*="language-"] {
	padding: 1.5rem;
	margin: 1rem 0;
	overflow: auto;
	background: oklch(18% 0.03 260); /* base-200 */
	border-radius: 0.75rem;
	border: 1px solid oklch(22% 0.04 260); /* base-300 */
}

[data-theme="duct-dark"] :not(pre) > code[class*="language-"],
[data-theme="duct-dark"] pre[class*="language-"] {
	background: oklch(18% 0.03 260); /* base-200 */
}

/* Inline code */
[data-theme="duct-dark"] :not(pre) > code[class*="language-"] {
	padding: 0.2em 0.4em;
	border-radius: 0.375rem;
	white-space: normal;
	background: oklch(22% 0.04 260); /* base-300 */
	border: 1px solid oklch(22% 0.04 260);
	font-size: 0.875em;
}

/* Comments and metadata */
[data-theme="duct-dark"] .token.comment,
[data-theme="duct-dark"] .token.prolog,
[data-theme="duct-dark"] .token.doctype,
[data-theme="duct-dark"] .token.cdata {
	color: oklch(60% 0.04 260); /* muted gray */
	font-style: italic;
}

/* Keywords, operators, and important syntax */
[data-theme="duct-dark"] .token.keyword,
[data-theme="duct-dark"] .token.selector,
[data-theme="duct-dark"] .token.important,
[data-theme="duct-dark"] .token.atrule,
[data-theme="duct-dark"] .token.rule {
	color: oklch(55% 0.18 260); /* primary */
	font-weight: 600;
}

/* Boolean, null, etc */
[data-theme="duct-dark"] .token.boolean,
[data-theme="duct-dark"] .token.number,
[data-theme="duct-dark"] .token.constant {
	color: oklch(65% 0.18 25); /* error color - reddish */
}

/* Operators and punctuation */
[data-theme="duct-dark"] .token.operator,
[data-theme="duct-dark"] .token.punctuation {
	color: oklch(55% 0.18 300); /* secondary - eggplant purple */
}

/* HTML/XML tags */
[data-theme="duct-dark"] .token.tag,
[data-theme="duct-dark"] .token.tag .punctuation {
	color: oklch(65% 0.20 240); /* accent - brighter blue */
}

/* Attribute names */
[data-theme="duct-dark"] .token.attr-name {
	color: oklch(55% 0.18 300); /* secondary */
	font-style: italic;
}

/* Strings and character data */
[data-theme="duct-dark"] .token.string,
[data-theme="duct-dark"] .token.char,
[data-theme="duct-dark"] .token.attr-value {
	color: oklch(65% 0.15 145); /* success - green */
}

[data-theme="duct-dark"] .token.attr-value .punctuation {
	color: oklch(65% 0.15 145); /* success - keep quotes same color as string */
}

/* Functions and class names */
[data-theme="duct-dark"] .token.function,
[data-theme="duct-dark"] .token.class-name,
[data-theme="duct-dark"] .token.builtin {
	color: oklch(65% 0.20 240); /* accent */
	font-weight: 500;
}

/* Variables and properties */
[data-theme="duct-dark"] .token.property,
[data-theme="duct-dark"] .token.variable {
	color: oklch(55% 0.18 260); /* primary */
}

/* URLs and links */
[data-theme="duct-dark"] .token.url {
	color: oklch(70% 0.15 220); /* info */
	text-decoration: underline;
}

/* Regular expressions */
[data-theme="duct-dark"] .token.regex {
	background: oklch(65% 0.15 145 / 0.2); /* success background */
	color: oklch(65% 0.15 145); /* success */
	padding: 0.1em 0.2em;
	border-radius: 0.25rem;
}

/* Text formatting */
[data-theme="duct-dark"] .token.bold {
	font-weight: 700;
}

[data-theme="duct-dark"] .token.italic {
	font-style: italic;
}

/* Diff highlighting */
[data-theme="duct-dark"] .token.inserted {
	background: oklch(65% 0.15 145 / 0.2); /* success background */
	color: oklch(65% 0.15 145); /* success */
}

[data-theme="duct-dark"] .token.deleted {
	background: oklch(65% 0.18 25 / 0.2); /* error background */
	color: oklch(65% 0.18 25); /* error */
}

/* Namespace */
[data-theme="duct-dark"] .token.namespace {
	opacity: 0.8;
}

/* Entity references */
[data-theme="duct-dark"] .token.entity {
	color: oklch(75% 0.15 65); /* warning */
}

/* Special language-specific tokens */
[data-theme="duct-dark"] .token.symbol {
	color: oklch(55% 0.18 300); /* secondary */
}

/* Line highlighting */
[data-theme="duct-dark"] .highlight-line {
	background: oklch(55% 0.18 260 / 0.1); /* primary with very low opacity */
	display: block;
	margin: 0 -1.5rem;
	padding: 0 1.5rem;
}

/* Line numbers plugin support */
[data-theme="duct-dark"] .line-numbers .line-numbers-rows {
	border-right: 1px solid oklch(22% 0.04 260); /* base-300 */
}

[data-theme="duct-dark"] .line-numbers-rows > span:before {
	color: oklch(60% 0.04 260); /* muted */
}